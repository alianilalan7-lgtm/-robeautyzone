module.exports=[91766,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30330),e=a.i(70106);let f=(0,e.default)("Clock2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 10",key:"1g230d"}]]),g=(0,e.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var h=a.i(56711),i=a.i(45474);function j({services:a}){let[e,j]=(0,c.useState)(1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(void 0),[u,v]=(0,c.useState)({serviceSlug:"",serviceDuration:0,date:"",time:"",name:"",phone:"",email:"",kvkkConsent:!1}),w=()=>j(e+1),x=()=>j(e-1);(0,c.useEffect)(()=>{u.date&&u.serviceSlug&&(async()=>{l(!0);try{let a=await fetch(`/api/slots?date=${u.date}&service=${u.serviceSlug}&duration=${u.serviceDuration}`),b=await a.json();r(b.slots||[])}catch(a){console.error(a)}finally{l(!1)}})()},[u.date,u.serviceSlug,u.serviceDuration]);let y=async()=>{l(!0),n(null);try{let a=await fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serviceId:u.serviceSlug,customerName:u.name,customerPhone:u.phone,customerEmail:u.email,date:u.date,time:u.time,kvkkConsent:u.kvkkConsent})}),b=await a.json();if(!a.ok)throw Error(b.error||"Bir hata oluÅŸtu");p(!0)}catch(a){n(a.message)}finally{l(!1)}};return o?(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center max-w-2xl mx-auto",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(g,{className:"w-10 h-10 text-green-600"})}),(0,b.jsx)("h2",{className:"text-3xl font-display text-primary-800 mb-4",children:"Randevunuz AlÄ±ndÄ±!"}),(0,b.jsx)("p",{className:"text-primary-600 text-lg mb-8",children:"Talebini aldÄ±k. En kÄ±sa sÃ¼rede WhatsApp Ã¼zerinden onay mesajÄ± gÃ¶ndereceÄŸiz."}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Yeni Randevu"})]}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[1===e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-display text-primary-800 mb-6",children:"Hizmet SeÃ§in"}),(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsxs)("button",{onClick:()=>{v({...u,serviceSlug:a.slug,serviceDuration:a.durationMin}),w()},className:`w-full text-left p-6 rounded-2xl transition-all duration-300 flex justify-between items-center group
                                    ${u.serviceSlug===a.slug?"bg-primary-50 border-2 border-primary-500 shadow-lg scale-[1.02]":"glass-card hover:bg-white hover:scale-[1.02] hover:shadow-xl border border-transparent"}
                                `,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-primary-900 group-hover:text-primary-700 transition-colors",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-primary-600 mt-1 font-medium bg-primary/5 inline-block px-2 py-0.5 rounded-full",children:["â± ",a.durationMin," dakika"]})]}),(0,b.jsxs)("div",{className:"text-xl font-display font-bold text-primary-700 bg-white/50 px-4 py-2 rounded-xl",children:["â‚º",a.priceMin,a.priceMax&&`-${a.priceMax}`]})]},a.id))})]}),2===e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-display text-primary-800 mb-6",children:"Tarih ve Saat SeÃ§in"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,b.jsx)("div",{className:"mx-auto w-full md:w-auto",children:(0,b.jsx)("div",{className:"glass-card p-6 rounded-3xl",children:(0,b.jsx)(d.Calendar,{mode:"single",selected:s,locale:i.tr,disabled:a=>{let b=new Date;return b.setHours(0,0,0,0),a<b||0===a.getDay()},onSelect:a=>{t(a),v({...u,date:a?(0,h.format)(a,"yyyy-MM-dd"):"",time:""})},className:"p-2"})})}),(0,b.jsxs)("div",{className:"glass-card p-6 rounded-3xl h-fit",children:[(0,b.jsxs)("h3",{className:"font-display text-xl font-bold text-primary-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)(f,{className:"w-5 h-5 text-primary-500"}),"MÃ¼sait Saatler"]}),u.date?k?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-primary-500 gap-3",children:[(0,b.jsx)("span",{className:"w-8 h-8 border-4 border-current border-t-transparent rounded-full animate-spin opacity-50"}),(0,b.jsx)("span",{className:"text-sm font-medium animate-pulse",children:"Kontrol ediliyor..."})]}):0===q.length?(0,b.jsx)("div",{className:"text-center py-12 text-red-400 bg-red-50 rounded-xl",children:"Bu tarihte boÅŸ yer kalmadÄ±. ðŸ˜”"}):(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3 animate-accordion-down",children:q.map(a=>(0,b.jsx)("button",{onClick:()=>v({...u,time:a}),className:`py-3 px-2 rounded-xl text-sm font-bold transition-all duration-200 transform hover:scale-105 ${u.time===a?"bg-primary text-white shadow-lg scale-105 ring-4 ring-primary/20":"bg-white/80 text-primary-700 hover:bg-white hover:shadow-md border border-white/50"}`,children:a},a))}):(0,b.jsx)("div",{className:"text-center py-12 text-primary-400/80 italic",children:"LÃ¼tfen takvimden bir tarih seÃ§in"})]})]}),(0,b.jsx)("div",{className:`fixed bottom-0 left-0 right-0 p-4 bg-white/80 backdrop-blur-lg border-t border-primary/10 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] transition-transform duration-500 z-50 flex justify-center ${u.time?"translate-y-0":"translate-y-full"}`,children:(0,b.jsxs)("div",{className:"w-full max-w-3xl flex gap-4",children:[(0,b.jsx)("button",{onClick:x,className:"px-8 py-4 border-2 border-primary/20 text-primary-700 font-bold rounded-2xl hover:bg-primary/5 transition-colors",children:"Geri"}),(0,b.jsx)("button",{onClick:w,disabled:!u.date||!u.time,className:"flex-1 px-8 py-4 bg-primary text-white text-lg font-bold rounded-2xl hover:bg-primary-600 hover:shadow-xl hover:-translate-y-1 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-primary/30",children:"SeÃ§imi Onayla ve Devam Et"})]})}),(0,b.jsx)("div",{className:"h-24"})]}),3===e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-display text-primary-800 mb-6",children:"Ä°letiÅŸim Bilgileri"}),m&&(0,b.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 text-sm",children:m}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Ad Soyad *"}),(0,b.jsx)("input",{type:"text",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",value:u.name,onChange:a=>v({...u,name:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Telefon *"}),(0,b.jsx)("input",{type:"tel",placeholder:"5xx xxx xx xx",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",value:u.phone,onChange:a=>v({...u,phone:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"E-posta"}),(0,b.jsx)("input",{type:"email",className:"w-full px-4 py-3 border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",value:u.email,onChange:a=>v({...u,email:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 mt-6",children:[(0,b.jsx)("input",{type:"checkbox",id:"kvkk",checked:u.kvkkConsent,onChange:a=>v({...u,kvkkConsent:a.target.checked}),className:"mt-1 w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),(0,b.jsx)("label",{htmlFor:"kvkk",className:"text-sm text-primary-600",children:"KVKK aydÄ±nlatma metnini okudum ve kabul ediyorum. WhatsApp ve e-posta ile randevu hatÄ±rlatmalarÄ± almayÄ± onaylÄ±yorum."})]}),(0,b.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,b.jsx)("button",{onClick:x,className:"flex-1 px-8 py-4 border-2 border-primary/20 text-primary-700 font-bold rounded-2xl hover:bg-primary/5 transition-colors",children:"Geri"}),(0,b.jsx)("button",{onClick:y,disabled:!u.name||!u.phone||!u.kvkkConsent||k,className:"flex-1 px-8 py-4 bg-primary text-white text-lg font-bold rounded-2xl hover:bg-primary-600 hover:shadow-xl hover:-translate-y-1 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-primary/30 flex items-center justify-center gap-2",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Ä°ÅŸleniyor..."]}):"Randevu OluÅŸtur"})]})]})]})]})}a.s(["default",()=>j],91766)}];

//# sourceMappingURL=app_randevu_AppointmentWizard_tsx_0e66d7f4._.js.map